<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Novo registro</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <style>
      #app {
        min-height: 100vh;
        margin: 0px;
        padding: 0px;
        display: flex;
        justify-content: center;
        background-color: mediumpurple;
      }
      .card {
        margin: auto;
        display: flex;
      }
      .card-title {
        color: #44444a;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="card p-4 m-auto my-3" style="width: 38rem">
        <div class="card-title h4 text-end">Novo Registro</div>
        <hr />
        <!-- <div id="snackbar"></div> -->
        <form
          class="d-flex flex-column"
          action="https://sheetdb.io/api/v1/pmnye71n9s032"
          method="POST"
          id="sheetdb-form"
        >
          <section class="row">
            <div class="col">
              <!-- ANESTESISTA -->
              <label class="form-label my-2 fw-bold">Anestesista</label>
              <select
                class="form-select"
                aria-label="Default select example"
                id="cmpAnestesista"
                name="data[Anestesista]"
              >
                <script>
                  let arr = [
                    "Amanda",
                    "Katherine",
                    "Letícia",
                    "Lisiane",
                    "Raquel",
                    "Teló",
                    "Alice",
                    "Karine",
                  ];
                  arr.map((i) => {
                    document.getElementById("cmpAnestesista").innerHTML +=
                      '<option value="' + i + '">' + i + "</option>";
                  });
                </script>
              </select>
            </div>

            <div class="col">
              <div class="row">
                <div class="col">
                  <!-- DIA -->
                  <label class="form-label my-2 fw-bold">Dia</label>
                  <select
                    class="frm-sel-sm form-select"
                    aria-label="Default select example"
                    id="cmpDia"
                    name="data[Dia]"
                  >
                    <script>
                      for (let i = 1; i <= 31; i++) {
                        document.getElementById("cmpDia").innerHTML +=
                          '<option value="' + i + '">' + i + "</option>";
                      }
                    </script>
                  </select>
                </div>
                <div class="col">
                  <!-- MES -->
                  <label class="form-label my-2 fw-bold">Mês</label>
                  <select
                    class="frm-sel-sm form-select"
                    aria-label="Default select example"
                    id="cmpMes"
                    name="data[Mês]"
                  >
                    <script>
                      let mes = [
                        "janeiro",
                        "fevereiro",
                        "março",
                        "abril",
                        "maio",
                        "junho",
                        "julho",
                        "agosto",
                        "setembro",
                        "outubro",
                        "novembro",
                        "dezembro",
                      ];
                      mes.map((i) => {
                        document.getElementById("cmpMes").innerHTML +=
                          '<option value="' + i + '">' + i + "</option>";
                      });
                    </script>
                  </select>
                </div>
                <div class="col">
                  <!-- ANO -->
                  <label class="form-label my-2 fw-bold">Ano</label>
                  <select
                    class="frm-sel-sm form-select"
                    aria-label="Default select example"
                    id="cmpAno"
                    name="data[Ano]"
                  >
                    <script>
                      for (let i = 2000; i <= 2050; i++) {
                        document.getElementById("cmpAno").innerHTML +=
                          '<option value="' + i + '">' + i + "</option>";
                      }
                    </script>
                  </select>
                </div>
                <!-- <input type="date" class="data-tag form-control" name="data[Data]" /> -->
              </div>
            </div>
          </section>

          <!-- Cirurgião -->
          <section class="mt-4 row">
            <label class="col-3 col-form-label fw-bold">Cirurgião</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Cirurgiao]" />
            </div>
          </section>
          <!-- Paciente -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Paciente</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Paciente]" />
            </div>
          </section>
          <!-- Hospital -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Hospital</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Hospital]" />
            </div>
          </section>
          <!-- Cirurgia -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Cirurgia</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Cirurgia]" />
            </div>
          </section>
          <!-- Convênio -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Convênio</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Convenio]" />
            </div>
          </section>
          <!-- Cobrança -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Cobrança</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Cobranca]" />
            </div>
          </section>
          <!-- Situação -->
          <section class="mt-2 row">
            <label class="col-3 col-form-label fw-bold">Situação</label>
            <div class="col">
              <input type="text" class="form-control" name="data[Situacao]" />
            </div>
          </section>
          <!-- Comentario -->
          <label class="col-2 col-form-label mt-3 fw-bold">Comentario</label>
          <textarea
            class="form-control"
            rows="3"
            name="data[Comentario]"
          ></textarea>
          <!-- Btn Enviar -->
          <section class="my-3 d-flex">
            <!-- <input
        type="submit"
        class="btn btn-primary flex-grow-1"
        value="Salvar"
        id="btn"
      /> -->
            <button type="submit" class="btn btn-primary flex-grow-1">
              Salvar
            </button>
          </section>
        </form>
      </div>
    </div>

    <script>
      var form = document.getElementById("sheetdb-form");
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        fetch(form.action, {
          method: "POST",
          body: new FormData(document.getElementById("sheetdb-form")),
        })
          .then((response) => response.json())
          .then((html) => {
            // you can put any JS code here
            console.log("success");
          });
      });
    </script>
    <!-- built files will be auto injected -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
